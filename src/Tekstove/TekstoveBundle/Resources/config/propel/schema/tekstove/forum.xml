<?xml version="1.0" encoding="UTF-8"?>
<database name="default" defaultIdMethod="native" defaultPhpNamingMethod="underscore" namespace="Tekstove\TekstoveBundle\Model\Entity">
    <table name="forum_posts" idMethod="native" phpName="ForumPosts">
        <column name="id" phpName="Id" type="INTEGER" sqlType="int(11) unsigned" primaryKey="true" autoIncrement="true" required="true"/>
        <column name="post" phpName="Post" type="LONGVARCHAR" required="true"/>
        <column name="poster" phpName="Poster" type="INTEGER" sqlType="int(11) unsigned" required="true"/>
        <column name="za_topic_id" phpName="ZaTopicId" type="INTEGER" sqlType="int(11) unsigned" required="true"/>
        <column name="date" phpName="Date" type="TIMESTAMP" required="true" defaultExpr="CURRENT_TIMESTAMP"/>
        <foreign-key foreignTable="forum_topic" name="postove_ako_se_iztrie_temata" onDelete="CASCADE">
            <reference local="za_topic_id" foreign="id"/>
        </foreign-key>
        <index name="za_topic_id">
            <index-column name="za_topic_id"/>
        </index>
        <vendor type="mysql">
            <parameter name="Engine" value="InnoDB"/>
        </vendor>
    </table>
    
    <table name="forum_razdel" idMethod="native" phpName="ForumRazdel">
        <column name="name" phpName="Name" type="VARCHAR" size="50" required="true"/>
        <column name="podredba" phpName="Podredba" type="BOOLEAN" size="1" required="true"/>
        <column name="id" phpName="Id" type="INTEGER" sqlType="int(11) unsigned" primaryKey="true" autoIncrement="true" required="true"/>
        <column name="hidden" phpName="Hidden" type="BOOLEAN" size="1" required="true" defaultValue="false"/>
        <vendor type="mysql">
            <parameter name="Engine" value="InnoDB"/>
        </vendor>
    </table>
    
    <table name="forum_topic" idMethod="native" phpName="ForumTopic">
        <column name="topic_razdel" phpName="TopicRazdel" type="INTEGER" sqlType="int(11) unsigned" required="true"/>
        <column name="topic_name" phpName="TopicName" type="VARCHAR" size="40" required="true"/>
        <column name="id" phpName="Id" type="INTEGER" sqlType="int(11) unsigned" autoIncrement="true" required="true"/>
        <column name="topic_pin" phpName="TopicPin" type="BOOLEAN" size="1" required="true"/>
        <column name="topic_starter" phpName="TopicStarter" type="INTEGER" sqlType="int(11) unsigned" required="true"/>
        <column name="topic_posleden_post" phpName="TopicPosledenPost" type="TIMESTAMP" required="true" defaultExpr="CURRENT_TIMESTAMP"/>
        <column name="priority" phpName="Priority" type="TINYINT" size="3" sqlType="tinyint(3) unsigned" required="true"/>
        <foreign-key foreignTable="forum_razdel" name="temi_ako_se_iztrie_razdel" onDelete="CASCADE">
            <reference local="topic_razdel" foreign="id"/>
        </foreign-key>
        <index name="topic_razdel">
            <index-column name="topic_razdel"/>
        </index>
        <unique name="topic_id">
            <unique-column name="id"/>
        </unique>
        <vendor type="mysql">
            <parameter name="Engine" value="InnoDB"/>
        </vendor>
    </table>
    
    <table name="forum_topic_watchers" idMethod="native" phpName="ForumTopicWatchers">
        <column name="user_id" phpName="UserId" type="INTEGER" size="10" sqlType="int(10) unsigned" primaryKey="true" required="true"/>
        <column name="forum_topic_id" phpName="ForumTopicId" type="INTEGER" size="10" sqlType="int(10) unsigned" primaryKey="true" required="true"/>
        <foreign-key foreignTable="users" name="forum_topic_watchers_ibfk_1">
            <reference local="user_id" foreign="id"/>
        </foreign-key>
        <foreign-key foreignTable="forum_topic" name="forum_topic_watchers_ibfk_2" onDelete="CASCADE">
            <reference local="forum_topic_id" foreign="id"/>
        </foreign-key>
        <index name="forum_topic_id">
            <index-column name="forum_topic_id"/>
        </index>
        <vendor type="mysql">
            <parameter name="Engine" value="InnoDB"/>
        </vendor>
    </table>
</database>